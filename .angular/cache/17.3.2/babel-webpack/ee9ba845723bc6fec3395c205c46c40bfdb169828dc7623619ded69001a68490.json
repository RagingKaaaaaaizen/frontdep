{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { first } from \"rxjs/operators\";\nlet ListComponent = class ListComponent {\n  constructor(departmentService, employeeService) {\n    this.departmentService = departmentService;\n    this.employeeService = employeeService;\n    this.employeeCounts = {};\n  }\n  ngOnInit() {\n    // Get all departments\n    this.departmentService.getAll().pipe(first()).subscribe(departments => {\n      this.departments = departments;\n      // Get all employees to count by department\n      this.employeeService.getAll().pipe(first()).subscribe(employees => {\n        // Count employees per department\n        this.employeeCounts = employees.reduce((acc, employee) => {\n          const deptId = employee.departmentId;\n          acc[deptId] = (acc[deptId] || 0) + 1;\n          return acc;\n        }, {});\n      });\n    });\n  }\n  getEmployeeCount(departmentId) {\n    return this.employeeCounts[departmentId] || 0;\n  }\n  deleteDepartment(id) {\n    const department = this.departments.find(x => x.id === id);\n    department.isDeleting = true;\n    this.departmentService.delete(id).pipe(first()).subscribe(() => {\n      this.departments = this.departments.filter(x => x.id !== id);\n    });\n  }\n};\nListComponent = __decorate([Component({\n  templateUrl: 'list.component.html'\n})], ListComponent);\nexport { ListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}