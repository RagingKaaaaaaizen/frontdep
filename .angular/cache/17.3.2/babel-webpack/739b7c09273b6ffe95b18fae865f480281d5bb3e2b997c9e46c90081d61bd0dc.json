{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet WorkflowListComponent = class WorkflowListComponent {\n  constructor(workflowService, alertService) {\n    this.workflowService = workflowService;\n    this.alertService = alertService;\n    this.workflows = [];\n    this.showForm = false;\n  }\n  ngOnInit() {\n    this.loadWorkflows();\n  }\n  loadWorkflows() {\n    this.workflowService.getByEmployeeId(this.employeeId).subscribe({\n      next: workflows => {\n        this.workflows = workflows;\n      },\n      error: error => {\n        this.alertService.error('Error loading workflows');\n        console.error('Error loading workflows:', error);\n      }\n    });\n  }\n  showAddForm() {\n    this.selectedWorkflow = null;\n    this.showForm = true;\n  }\n  editWorkflow(workflow) {\n    this.selectedWorkflow = workflow;\n    this.showForm = true;\n  }\n  hideForm() {\n    this.showForm = false;\n    this.selectedWorkflow = null;\n  }\n  onWorkflowSaved(workflow) {\n    this.loadWorkflows();\n    this.hideForm();\n  }\n  deleteWorkflow(id) {\n    if (confirm('Are you sure you want to delete this workflow?')) {\n      this.workflowService.delete(id).subscribe({\n        next: () => {\n          this.workflows = this.workflows.filter(x => x.id !== id);\n          this.alertService.success('Workflow deleted successfully');\n        },\n        error: error => {\n          this.alertService.error('Error deleting workflow');\n          console.error('Error deleting workflow:', error);\n        }\n      });\n    }\n  }\n};\n__decorate([Input()], WorkflowListComponent.prototype, \"employeeId\", void 0);\nWorkflowListComponent = __decorate([Component({\n  selector: 'app-workflow-list',\n  template: `\n        <div class=\"workflow-list\">\n            <div class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h4>Workflows</h4>\n                <button class=\"btn btn-sm btn-success\" (click)=\"showAddForm()\">Add Workflow</button>\n            </div>\n\n            <div *ngIf=\"showForm\" class=\"mb-4\">\n                <app-workflow-form\n                    [employeeId]=\"employeeId\"\n                    [workflow]=\"selectedWorkflow\"\n                    (saved)=\"onWorkflowSaved($event)\"\n                    (cancelled)=\"hideForm()\">\n                </app-workflow-form>\n            </div>\n\n            <div class=\"table-responsive\">\n                <table class=\"table table-sm\">\n                    <thead>\n                        <tr>\n                            <th>Type</th>\n                            <th>Details</th>\n                            <th>Status</th>\n                            <th>Date</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let workflow of workflows\">\n                            <td>{{workflow.type}}</td>\n                            <td>{{workflow.details}}</td>\n                            <td>\n                                <span class=\"badge\" [ngClass]=\"{\n                                    'badge-warning': workflow.status === 'Pending',\n                                    'badge-info': workflow.status === 'In Progress',\n                                    'badge-success': workflow.status === 'Approved' || workflow.status === 'Completed',\n                                    'badge-danger': workflow.status === 'Rejected'\n                                }\">\n                                    {{workflow.status}}\n                                </span>\n                            </td>\n                            <td>{{workflow.dateCreated | date:'short'}}</td>\n                            <td>\n                                <button class=\"btn btn-sm btn-primary\" (click)=\"editWorkflow(workflow)\">Edit</button>\n                                <button class=\"btn btn-sm btn-danger\" (click)=\"deleteWorkflow(workflow.id)\">Delete</button>\n                            </td>\n                        </tr>\n                        <tr *ngIf=\"!workflows?.length\">\n                            <td colspan=\"5\" class=\"text-center\">No workflows found</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    `,\n  styles: [`\n        .workflow-list {\n            padding: 1rem;\n            background: #f8f9fa;\n            border-radius: 4px;\n            margin-top: 1rem;\n        }\n        .table {\n            margin-bottom: 1rem;\n        }\n        .badge {\n            padding: 0.5em 0.75em;\n        }\n    `]\n})], WorkflowListComponent);\nexport { WorkflowListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}